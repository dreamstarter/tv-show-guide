<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="TV Show Guide for tracking and managing television shows across streaming platforms">
  <title>TV Show Guide - Nov 2025 – Oct 2026</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header class="toolbar">
      <h1>TV Show Guide</h1>
      <nav class="toggle-bar" role="navigation" aria-label="Main navigation">
        <button id="btnAll" class="btn active" type="button" aria-pressed="true">All Shows</button>
        <button id="btnWeek" class="btn" type="button" aria-pressed="false">Week Airing</button>
        <div class="pill">
          <span class="muted">Timezone</span>
          <span class="badge">EST · Indianapolis</span>
        </div>
        <span style="flex: 1 1 auto"></span>
        <button id="importBtn" class="btn" type="button">Import JSON</button>
        <button id="exportBtn" class="btn" type="button">Export JSON</button>
        <input type="file" id="importFile" accept="application/json" style="display: none" />
      </nav>
    </header>

    <main>
      <p class="muted">
        Toggle between all shows and the weekly airing grid. Enter premiere windows below to display SxxEyy for each airing date. Platform chips are colored; no separate key.
      </p>

      <section class="filters" aria-label="Filter options">
        <div class="search-container">
          <label for="searchInput">
            <strong>Search Shows:</strong>
          </label>
          <input 
            type="search" 
            id="searchInput" 
            placeholder="Search by title, network, or platform..." 
            aria-label="Search shows"
            autocomplete="off"
          >
          <button type="button" id="clearSearch" class="btn btn--small" aria-label="Clear search">×</button>
        </div>
        
        <div class="filter-row">
          <strong>Platform Filters:</strong>
          <label>
            <input type="checkbox" id="pf-hulu" checked> 
            <span class="hulu chip">Hulu</span>
          </label>
          <label>
            <input type="checkbox" id="pf-peacock" checked> 
            <span class="peacock chip">Peacock</span>
          </label>
          <label>
            <input type="checkbox" id="pf-paramount" checked> 
            <span class="paramount chip">Paramount+</span>
          </label>
          <span style="margin-left: 8px; color: #555">(uncheck to hide a platform)</span>
          <span style="flex: 1 1 auto"></span>
          <label>
            <input type="checkbox" id="show-nonret"> 
            <span class="chip" style="background: var(--border); color: var(--text)">Show non-returning</span>
          </label>
        </div>
        
        <div class="filter-row">
          <label class="pill">
            Use default eps <input type="checkbox" id="use-estimates" checked>
          </label>
          <label><input type="checkbox" id="est-abc" checked> ABC</label>
          <label><input type="checkbox" id="est-nbc" checked> NBC</label>
          <label><input type="checkbox" id="est-cbs" checked> CBS</label>
          <label><input type="checkbox" id="est-fox" checked> FOX</label>
        </div>
      </section>

      <section>
        <h2>Legend</h2>
        <table class="legend-table" id="legendTable" role="table" aria-label="Show legend"></table>
      </section>

      <details class="panel editor" id="editor">
        <summary><strong>Edit Season Data (start/end dates, season, episodes, air day, returning)</strong></summary>
        <p class="muted">
          Tip: Fill real dates to enable SxxEyy per-day calculation. Your edits save to this browser only.
        </p>
        <div id="editWrap"></div>
        <div style="margin-top: 8px">
          <textarea 
            id="pasteJson" 
            rows="6" 
            placeholder='Paste JSON matching {"9": {"s":2, "start":"2025-11-07", "end":"2026-03-20", "eps":18, "air":"Friday", "ret":true}, ...}'>
          </textarea>
          <div style="margin-top: 6px">
            <button id="loadPaste" class="btn" type="button">Load from Paste</button>
          </div>
        </div>
      </details>

      <section id="viewAll" class="view">
        <h2>All Shows (Alphabetical)</h2>
        <div id="allList" class="shows" role="list"></div>
      </section>

      <section id="viewWeek" class="view hidden">
        <div class="controls">
          <button id="prevWeek" class="btn" type="button" aria-label="Previous week">⟨ Prev Week</button>
          <button id="thisWeek" class="btn" type="button">This Week</button>
          <button id="nextWeek" class="btn" type="button" aria-label="Next week">Next Week ⟩</button>
          <label class="pill">
            Jump to date <input type="date" id="jumpDate" aria-label="Select date to jump to">
          </label>
          <span id="weekRange" class="muted"></span>
        </div>
        <div id="weekTable" role="table" aria-label="Weekly show schedule"></div>
      </section>
    </main>
  </div>

  <script src="validation.js"></script>
  <script src="script.js"></script>
</body>
</html>